<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brahmastra - India's Ultimate Gaming Store</title>
  <style>
    /* Add CSS styles here */
  </style>
</head>
<body>
  <header class="bg-gray-800 border-b border-gray-800 flex justify-between items-center px-4 py-3">
    <div></div>
    <div class="logo absolute left-1/2 -translate-x-1/2">BRAHMASTRA</div>
    <div class="flex gap-3">
      <button onclick="toggleWishlist()" class="bg-gray-800 px-3 py-1 rounded">‚ô° <span id="wishlistCount">0</span></button>
      <button onclick="toggleCart()" class="bg-gray-800 px-3 py-1 rounded">üõí <span id="cartCount">0</span></button>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero h-[60vh] flex flex-col justify-center px-6">
    <h1 class="text-4xl md:text-5xl font-bold mb-2">India‚Äôs Ultimate Gaming Store</h1>
    <p class="text-gray-300 mb-4 max-w-lg">Buy premium PC & console games instantly.</p>
    <button onclick="productsDiv.scrollIntoView({behavior:'smooth'})"
      class="btn px-6 py-3 w-fit">Shop Now</button>
  </section>

  <!-- UPCOMING -->
  <section class="p-5">
    <h2 class="text-yellow-400 text-xl font-semibold mb-3">‚è≥ Upcoming Games</h2>
    <div class="wrapper overflow-hidden glass">
      <div id="upcomingTrack" class="track p-4"></div>
    </div>
  </section>

  <!-- SEARCH -->
  <section class="p-4 bg-black/60 border-y border-gray-800">
    <input id="search" oninput="render()" placeholder="Search games..."
      class="w-full p-3 bg-black border border-gray-700 rounded-full">
  </section>

  <!-- PRODUCTS -->
  <main id="products" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 p-4 pb-24"></main>

  <!-- CART -->
  <aside id="cartBox" class="fixed top-0 right-0 w-80 h-full bg-black border-l border-gray-800 p-4 translate-x-full transition">
    <h3 class="font-bold mb-2">Your Cart</h3>
    <div id="cartItems" class="space-y-2 text-sm"></div>
    <p class="font-bold mt-3">Total: ‚Çπ<span id="total">0</span></p>
    <button onclick="checkout()" class="btn w-full py-3 mt-3">Checkout via WhatsApp</button>
  </aside>

  <!-- WISHLIST -->
  <aside id="wishlistBox" class="fixed top-0 left-0 w-80 h-full bg-black border-r border-gray-800 p-4 -translate-x-full transition">
    <h3 class="font-bold mb-2">Wishlist</h3>
    <div id="wishlistItems" class="space-y-2 text-sm"></div>
  </aside>

  <!-- MODAL -->
  <div id="modal" class="fixed inset-0 bg-black/80 hidden flex items-center justify-center p-4" onclick="closeModal()">
    <div class="bg-gray-900 p-4 rounded-xl max-w-lg w-full" onclick="event.stopPropagation()">
      <h2 id="mTitle" class="text-2xl font-bold"></h2>
      <iframe id="mVideo" class="w-full h-60 my-3" allowfullscreen></iframe>
      <p id="mPrice" class="price text-xl"></p>
      <button id="mAdd" class="btn w-full py-2 mt-2"
        onclick="event.stopPropagation();addCart(${selected.id})">Add to Cart</button>
      <button id="mBuy" class="bg-green-600 w-full py-3 mt-2 rounded font-bold"
        onclick="buyNow(${selected.id})">Buy Now</button>
      <button id="mWish" class="bg-pink-600 w-full py-2 mt-2 rounded"
        onclick="toggleWishlistItem(${selected.id})">Wishlist</button>
    </div>
  </div>

  <script>
    // Define variables and arrays here
    let products = [],
      wishlist = [];

    // Render upcoming games on the page
    function renderUpcoming() {
      const html = upcomingGames.map(g => `
        <div class="glass w-[300px] shrink-0 p-3">
          <img src="${g.img}" class="h-48 w-full object-cover rounded mb-2">
          <p class="font-bold">${g.title}</p>
        </div>`).join("");
      upcomingTrack.innerHTML = html;
    }

    // Render the shopping products on the page
    function render() {
      const q = search.value.toLowerCase();
      productsDiv.innerHTML = products.filter(p => p.title.toLowerCase().includes(q)).map(p => `
        <div class="card cursor-pointer" onclick="openModal(${p.id})">
          <img src="${p.img}" class="h-56 w-full object-cover">
          <div class="p-3">
            <div class="font-bold mb-1">${p.title}</div>
            <div class="price mb-2">‚Çπ${p.price}</div>
            <button class="btn w-full py-2"
              onclick="event.stopPropagation(); addCart(${p.id})">Add to Cart</button>
          </div>
        </div>`).join("");
    }

    // Open the modal when a product is clicked
    function openModal(id) {
      const p = products.find(x => x.id === id);
      selected = p;
      mTitle.innerText = selected.title;
      mPrice.innerText = "‚Çπ" + selected.price;
      mVideo.src = selected.video;
      mAdd.onclick = () => addCart(selected.id);
      mBuy.onclick = () => buyNow(selected.id);
      mWish.onclick = () => toggleWishlistItem(selected.id);

      modal.classList.remove("hidden");
    }

    // Close the modal
    function closeModal() {
      modal.classList.add("hidden");
      mVideo.src = "";
    }

    // Add a product to the cart
    function addCart(id) {
      const p = products.find(x => x.id === id);
      if (cart.find(x => x.id === id)) {
        cart.find(x => x.id === id).qty++;
      } else {
        cart.push(p);
        p.qty = 1;
      }
      renderCart();
    }

    // Render the shopping cart on the page
    function renderCart() {
      let t = 0;

      // Calculate total price and render the cart items
      cartItems.innerHTML = cart.map(i => {
        t += i.price * i.qty;
        return `
          <div class="flex gap-2 items-center bg-gray-900 p-2 rounded">
            <img src="${i.img}" class="w-12 h-12 rounded">
            <div class="flex-1">
              <p class="font-bold">${i.title}</p>
              <p class="text-xs">‚Çπ${i.price} x ${i.qty}</p>
            </div>
            <button onclick="i.qty-- || removeItem(${i.id}); renderCart()" class="px-2">-</button>
            <button onclick="i.qty++ ; renderCart()" class="px-2">+</button>
          </div>`;
      }).join("");
      total.innerText = t;
    }

    // Remove a product from the cart
    function removeItem(id) {
      cart = cart.filter(x => x.id !== id);
    }

    // Toggle the shopping cart visibility
    function toggleCart() {
      cartBox.classList.toggle("translate-x-full");
    }

    // Add a product to the wishlist
    function toggleWishlist() {
      wishlistBox.classList.toggle("-translate-x-full");
    }
    
    function toggleWishlistItem(id) {
      const p = products.find(x => x.id === id);
      if (wishlist.find(x => x.id === id)) {
        wishlist.find(x => x.id === id).qty++;
      } else {
        wishlist.push(p);
        p.qty = 1;
      }
      renderWishlist();
    }

    // Render the wishlist on the page
    function renderWishlist() {
      wishlistItems.innerHTML = wishlist.map(w => `
        <div class="flex justify-between bg-gray-900 p-2 rounded">
          <span>${w.title}</span>
          <button onclick="addCart(${w.id})">Add</button>
        </div>`).join("");
      wishlistCount.innerText = wishlist.length;
    }

    // Check out and place an order via WhatsApp
    function checkout() {
      if (!cart.length) return;

      let msg = "Order:\n";
      let t = 0;
      cart.forEach((i, n) => {
        msg += `${n + 1}. ${i.title} x ${i.qty}\n`;
        t += i.price * i.qty;
      });
      msg += `\nTotal: ‚Çπ${t}`;

      // Add your WhatsApp API key here and send the order message
    }

    // Buy a product now
    function buyNow(id) {
      const p = products.find(x => x.id === id);
      alert(`You have bought ${p.title} for ‚Çπ${p.price}`); // Use an appropriate method to handle purchase confirmation
    }

    // Initialize the page and render all necessary elements
    window.onload = () => {
      render();
      renderUpcoming();
    };
  </script>
</body>
</html>

